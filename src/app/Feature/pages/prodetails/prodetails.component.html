<div class="px-4 sm:px-[1rem] md:px-[5rem] xl:px-[13rem]">
  @if( ProductData()&& ProductData().category){
  <div class="p-5 bg-gray-50 mt-2 rounded-lg shadow-sm">
    <div class="xl:max-w-screen-xl lg:max-w-screen-lg max-w-xl mx-auto">
      <div
        class="grid items-start grid-cols-1 lg:grid-cols-3 gap-8 max-lg:gap-12 max-sm:gap-8"
      >
        <div class="shadow">
          <!-- <img
            [src]="ProductData().imageCover"
            class="card-img-top object-contain h-[350px] w-full"
            [alt]="ProductData().description"
          /> -->
          <owl-carousel-o [options]="customOptions">
            @for (img of ProductData().images; track $index) {

            <ng-template carouselSlide>
              <img
                [src]="img"
                class="card-img-top object-contain w-full"
                [alt]="img"
              />
            </ng-template>
            }
          </owl-carousel-o>

          <!-- <img [src]="ProductData().imageCover" alt="Product" class=" " /> -->
        </div>
        <div class="w-full lg:col-span-2">
          <div>
            <h3 class="text-2xl font-bold text-gray-800">
              {{ ProductData().title }}
            </h3>
            <p class="text-gray-500 text-sm my-2">
              {{ ProductData().description }}
            </p>
            <div class="flex justify-between">
              <h4 class="text-lg font-bold max-sm:text-sm text-gray-600">
                Category: {{ ProductData().category.name }}
              </h4>
              <div class="flex items-center space-x-1 mt-2">
                @for (item of [1,2,3,4,5].slice(0,ProductData().ratingsAverage);
                track $index) {

                <svg
                  class="w-4 h-4 fill-yellow-400"
                  viewBox="0 0 14 13"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M7 0L9.4687 3.60213L13.6574 4.83688L10.9944 8.29787L11.1145 12.6631L7 11.2L2.8855 12.6631L3.00556 8.29787L0.342604 4.83688L4.5313 3.60213L7 0Z"
                  />
                </svg>

                } @if (ProductData().ratingsAverage) {
                <span
                  ><i class="fa-solid fa-star-half text-yellow-500"></i
                ></span>
                }
                <p class="text-sm text-yellow-600">
                  {{ ProductData().ratingsAverage }} ({{
                    ProductData().ratingsQuantity
                  }})
                </p>
              </div>
            </div>

            <h4 class="text-[#35AFA0] text-2xl font-bold">
              {{ ProductData().price | currency }}
            </h4>

            <div class="flex items-center justify-between">
              <p class="text-lg font-bold ms-2 text-gray-600">
                Brand :
                <span class="text-red-500 font-bold uppercase">{{
                  ProductData().brand.name
                }}</span>
              </p>
              <img
                [src]="ProductData().brand.image"
                class="ms-2 h-[60px] rounded max-sm:w-[50%] object-contain"
                [alt]="ProductData().brand.name"
              />
            </div>
          </div>

          <hr class="my-6 border-gray-300" />

          <!-- <div class="mt-6 flex justify-between mb-2 gap-4">
            <button
              type="button"
              (click)="addProductToWishlist(ProductData()._id)"
              class="cursor-pointer px-4 py-3 w-[45%] border border-red-500 bg-red-600 rounded-lg duration-500 text-white max-sm:text-sm font-semibold"
            >
              Add to wishlist <i class="fa-regular text-white fa-heart"></i>
            </button>
            <button
              type="button"
              (click)="addItemToCart(ProductData()._id)"
              class="cursor-pointer px-4 py-3 w-[45%] border border-[#35AFA0] bg-[#35AFA0] rounded-lg duration-500 hover:bg-[#35AFA0] text-white max-sm:text-sm font-semibold"
            >
              <i class="fa-solid fa-cart-shopping"></i> Add to cart
            </button>
          </div> -->
          <div class="flex flex-wrap text-center">
            @for (item of ProductData().images; track $index) {

            <img
              [src]="item"
              alt="Product1"
              class="border m-1 max-sm:w-1/4 sm:w-1/2 md:w-2/12 cursor-pointer"
            />

            }
          </div>

          <hr class="my-6 border-gray-300" />
        </div>
      </div>
    </div>
  </div>

  <div
    class="bg-gray-100 gap-1 rounded-lg px-4 my-4 py-4 flex items-center justify-between"
  >
    <div class="">
      <h3 class="uppercase text-xl max-sm:text-sm font-bold text-[#35AFA0]">
        recommend related Products
      </h3>
      <p class="text-gray-600 max-sm:text-sm">
        Do not miss the current offers until the end of March.
      </p>
    </div>
    <div
      class="cursor-pointer flex text-gray-400 max-sm:text-xs group hover:text-gray-600 text-sm text-center my-4 px-2 max-sm:w-[25%] py-1 border hover:border-gray-500 transition-all duration-300 rounded-full"
    >
      View All
      <i
        class="transition-all duration-300 text-gray-400 group-hover:text-[#35AFA0] ms-2 fa-solid fa-arrow-right"
      ></i>
    </div>
  </div>
  <div
    class="grid max-sm:grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-5 overflow-hidden gap-3"
  >
    @for (prod of products(); track prod._id) { @if(prod.brand._id ===
    ProductData().brand._id){
    <app-card [products]="prod"></app-card>
    } }
  </div>
  }
</div>
